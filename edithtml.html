<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <!-- éŸ¿æ‡‰å¼è¨­è¨ˆçš„é—œéµï¼šç¢ºä¿ç¶²é å¯¬åº¦èˆ‡è¨­å‚™å¯¬åº¦ä¸€è‡´ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›¢ç·š HTML ç·¨è¼¯å™¨ (æ–°è¦–çª—é è¦½)</title>
    <!-- å¼•å…¥ Tailwind CSS CDN ä»¥å¯¦ç¾å¿«é€Ÿä¸”éŸ¿æ‡‰å¼çš„è¨­è¨ˆ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* è¨­ç½® Inter å­—é«”ä½œç‚ºé è¨­ï¼Œæä¾›è‰¯å¥½çš„å¯è®€æ€§ */
        :root {
            font-family: 'Inter', sans-serif;
        }
        /* é‡å°ç¨‹å¼ç¢¼ç·¨è¼¯å€ï¼Œä½¿ç”¨ç­‰å¯¬å­—é«”ï¼Œæ–¹ä¾¿é–±è®€ */
        #htmlEditor {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
            line-height: 1.4;
            /* åœ¨æ‰‹æ©Ÿä¸Šçµ¦äºˆè¶³å¤ çš„ç·¨è¼¯ç©ºé–“ */
            min-height: 50vh; 
        }
        /* ç¾åŒ–æ»¾å‹•æ¢ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #cbd5e1; /* ç°è‰² 300 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; /* ç°è‰² 100 */
        }
    </style>
    <script>
        // è¨­å®š Tailwind CSS é…ç½®
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#3b82f6', // è—è‰² 500 (å„²å­˜æŒ‰éˆ•)
                        'secondary-indigo': '#6366f1' // é›è—è‰² 500 (é è¦½æŒ‰éˆ•)
                    }
                }
            }
        }

        /**
         * 1. å„²å­˜åŠŸèƒ½ï¼šå°‡ç·¨è¼¯å™¨ä¸­çš„å…§å®¹å„²å­˜ç‚º .html æª”æ¡ˆä¸¦ä¸‹è¼‰ã€‚
         */
        function saveHtmlFile() {
            const code = document.getElementById('htmlEditor').value;
            const filename = 'my_responsive_code.html';
            const blob = new Blob([code], { type: 'text/html' });
            
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename; 
            
            document.body.appendChild(a);
            a.click();
            
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showMessageBox('æˆåŠŸå„²å­˜ï¼æª”æ¡ˆå·²ä¸‹è¼‰è‡³æ‚¨çš„æ‰‹æ©Ÿã€‚', 'text-green-500');
        }
        
        /**
         * 2. é è¦½åŠŸèƒ½ï¼šå°‡ç¨‹å¼ç¢¼è¼‰å…¥åˆ°ä¸€å€‹æ–°çš„ç€è¦½å™¨è¦–çª—ä¸­é€²è¡Œå³æ™‚é è¦½ã€‚
         */
        function previewHtml() {
            const code = document.getElementById('htmlEditor').value;
            
            // é–‹å•Ÿä¸€å€‹æ–°çš„ç©ºç™½è¦–çª—/åˆ†é  (_blank)
            const previewWindow = window.open('', '_blank');
            
            if (!previewWindow) {
                // å¦‚æœç€è¦½å™¨é˜»æ­¢äº†å½ˆå‡ºè¦–çª—
                showMessageBox('ç„¡æ³•é–‹å•Ÿæ–°è¦–çª—ï¼Œè«‹æª¢æŸ¥ç€è¦½å™¨æ˜¯å¦é˜»æ“‹å½ˆå‡ºè¦–çª—ã€‚', 'text-red-500');
                return;
            }
            
            // å¯«å…¥ç¨‹å¼ç¢¼å…§å®¹åˆ°æ–°è¦–çª—
            try {
                // ç‚ºäº†ç¢ºä¿ RWD æ•ˆæœåœ¨æ–°è¦–çª—ä¸­æ­£å¸¸ï¼Œå¿…é ˆå¯«å…¥ viewport meta æ¨™ç±¤
                const fullCode = code.includes('<meta name="viewport"') 
                                 ? code 
                                 : code.replace('<head>', '<head><meta name="viewport" content="width=device-width, initial-scale=1.0">');
                                 
                previewWindow.document.write(fullCode);
                previewWindow.document.close();
                previewWindow.document.title = "HTML ç¨‹å¼ç¢¼é è¦½";

            } catch (e) {
                 showMessageBox('é è¦½è¼‰å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¨‹å¼ç¢¼èªæ³•ã€‚', 'text-red-500');
                 console.error("Preview loading failed:", e);
                 // å¤±æ•—æ™‚å˜—è©¦é—œé–‰æ–°è¦–çª—
                 try { previewWindow.close(); } catch(err) {} 
            }
        }

        /**
         * 3. è¨Šæ¯æç¤ºæ¡† (å–ä»£ alert)
         */
        function showMessageBox(message, colorClass = 'text-primary-blue') {
            const messageBox = document.getElementById('messageBox');
            const messageText = document.getElementById('messageText');
            
            // é‡è¨­é¡è‰²ä¸¦æ·»åŠ æ–°çš„è¨Šæ¯é¡è‰²
            messageText.className = `font-semibold ${colorClass}`;
            messageText.textContent = message;
            
            // è®“è¨Šæ¯æ¡†å¯è¦‹
            messageBox.classList.remove('opacity-0', 'pointer-events-none');
            messageBox.classList.add('translate-y-0');

            // è¨­ç½®è¨ˆæ™‚å™¨ï¼Œåœ¨å¹¾ç§’å¾Œè‡ªå‹•éš±è—è¨Šæ¯æ¡†
            clearTimeout(messageBox.timer);
            messageBox.timer = setTimeout(() => {
                messageBox.classList.remove('translate-y-0');
                messageBox.classList.add('opacity-0', 'pointer-events-none');
            }, 3000); 
        }
    </script>
</head>
<body class="bg-gray-100 min-h-screen p-4 flex flex-col items-center">

    <!-- é ‚éƒ¨æ¨™é¡Œå’Œèªªæ˜ -->
    <header class="w-full max-w-2xl mb-4">
        <h1 class="text-3xl font-extrabold text-gray-800 text-center mb-1">
            ğŸ’» é›¢ç·šç¨‹å¼ç¢¼ç·¨è¼¯å™¨
        </h1>
        <p class="text-sm text-gray-500 text-center">
            è²¼ä¸Š HTML ç¨‹å¼ç¢¼ï¼Œå¯é è¦½æ–¼æ–°è¦–çª—ä¸¦é›¢ç·šå„²å­˜ã€‚
        </p>
    </header>

    <!-- è¨Šæ¯æç¤ºæ¡† (å–ä»£ alert) - æ¡ç”¨æ›´å‹å–„çš„å‹•ç•«æ•ˆæœ -->
    <div id="messageBox" class="fixed top-0 left-1/2 transform -translate-x-1/2 mt-4 p-3 bg-white rounded-lg shadow-xl z-50 transition-all duration-300 opacity-0 pointer-events-none">
        <p id="messageText" class="text-primary-blue font-semibold">è¨Šæ¯</p>
    </div>

    <!-- ä¸»æ“ä½œå€åŸŸ -->
    <main class="w-full max-w-2xl flex-grow flex flex-col space-y-4">
        
        <!-- ç¨‹å¼ç¢¼ç·¨è¼¯å€åŸŸ -->
        <textarea 
            id="htmlEditor" 
            placeholder="è«‹åœ¨é€™è£¡è²¼ä¸Šæ‚¨çš„ HTML ç¨‹å¼ç¢¼..."
            class="w-full flex-grow p-4 text-sm border-2 border-gray-300 rounded-lg focus:border-primary-blue focus:ring-1 focus:ring-primary-blue transition duration-150 resize-y"
            rows="20"
        >&lt;!DOCTYPE html>
&lt;html lang="zh-Hant">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>æˆ‘çš„ RWD ç¶²é é è¦½&lt;/title>
    &lt;style>
        body { font-family: 'Inter', sans-serif; padding: 20px; text-align: center; background-color: #f0f4f8; }
        .card { 
            background: white; padding: 20px; border-radius: 12px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
            max-width: 90%; margin: 20px auto; 
        }
    &lt;/style>
&lt;/head>
&lt;body>
    &lt;div class="card">
        &lt;h1 style="color: #6366f1;">æ–°è¦–çª—é è¦½çš„å…§å®¹&lt;/h1>
        &lt;p>é€™æ®µå…§å®¹å°‡åœ¨æ‚¨é»æ“Šã€Œé è¦½ç•«é¢ã€æŒ‰éˆ•å¾Œï¼Œå½ˆå‡ºåˆ°ä¸€å€‹å…¨æ–°çš„åˆ†é ä¸­å‘ˆç¾ï¼&lt;/p>
        &lt;p>ç”±æ–¼æ˜¯åœ¨æ–°åˆ†é ä¸­é–‹å•Ÿï¼Œå› æ­¤èƒ½ç¢ºä¿å®ƒå®Œå…¨ä»¥ç¶²é çš„æ–¹å¼ç¨ç«‹é‹ä½œã€‚&lt;/p>
    &lt;/div>
&lt;/body>
&lt;/html></textarea>

        <!-- æ“ä½œæŒ‰éˆ• - å·¦å³æ’åˆ—ï¼Œå„ªåŒ–æ‰‹æ©Ÿç©ºé–“ -->
        <div class="flex space-x-4">
            <button 
                onclick="previewHtml()"
                class="flex-1 py-3 bg-secondary-indigo text-white font-bold text-lg rounded-xl shadow-lg hover:bg-indigo-600 transition duration-150 active:scale-95 transform tracking-wider"
            >
                ğŸ‘€ é è¦½ç•«é¢ (æ–°è¦–çª—)
            </button>
            <button 
                onclick="saveHtmlFile()"
                class="flex-1 py-3 bg-primary-blue text-white font-bold text-lg rounded-xl shadow-lg hover:bg-blue-600 transition duration-150 active:scale-95 transform tracking-wider"
            >
                ğŸ’¾ å¦å­˜ç‚º .html æª”æ¡ˆ
            </button>
        </div>
    </main>

    <!-- åº•éƒ¨è³‡è¨Š (å¯é¸) -->
    <footer class="w-full max-w-2xl mt-4 text-xs text-gray-400 text-center">
        æ­¤ç·¨è¼¯å™¨å®Œå…¨åœ¨ç€è¦½å™¨ä¸­é‹ä½œï¼Œç„¡éœ€ç¶²è·¯é€£ç·šæˆ–è³‡æ–™åº«ã€‚
    </footer>

</body>
</html>


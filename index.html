<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å»£å³¶äº”æ—¥éŠè¡Œç¨‹è¡¨</title>
    
    <!-- Tailwind CSS (æ¨£å¼åº«) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM (æ ¸å¿ƒåº«) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (è®“ç€è¦½å™¨çœ‹æ‡‚ JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* æ‰‹æ©Ÿç‰ˆå„ªåŒ–èˆ‡å®‰å…¨å€åŸŸè¨­å®š */
        body {
            -webkit-tap-highlight-color: transparent;
        }
        /* éš±è—æ²è»¸ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* ç¢ºä¿ä¸»å…§å®¹å€åŸŸå¯ä»¥æ²å‹• */
        #main-content-scroll {
            overflow-y: auto;
            -webkit-overflow-scrolling: touch; /* iOS æ»‘å‹•å„ªåŒ– */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900 h-screen w-screen overflow-hidden">
    <div id="root" class="h-full w-full"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- å…§å»ºåœ–ç¤ºçµ„ä»¶ (SVG Icons) ---
        const IconBase = ({ children, className, size = 18 }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const MapPin = (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>;
        const Info = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></IconBase>;
        const Briefcase = (props) => <IconBase {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></IconBase>;
        const Train = (props) => <IconBase {...props}><rect width="16" height="16" x="4" y="3" rx="2"/><path d="M4 11h16"/><path d="M12 3v8"/><path d="m8 19-2 3"/><path d="m18 22-2-3"/><circle cx="8" cy="15" r="1"/><circle cx="16" cy="15" r="1"/></IconBase>;
        const BookOpen = (props) => <IconBase {...props}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></IconBase>;
        const Calendar = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></IconBase>;
        const Clock = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></IconBase>;
        const X = (props) => <IconBase {...props}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></IconBase>;
        const Navigation = (props) => <IconBase {...props}><polygon points="3 11 22 2 13 21 11 13 3 11"/></IconBase>;
        const ExternalLink = (props) => <IconBase {...props}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></IconBase>;
        const Utensils = (props) => <IconBase {...props}><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></IconBase>;
        const ShoppingBag = (props) => <IconBase {...props}><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></IconBase>;
        const Bus = (props) => <IconBase {...props}><rect width="14" height="16" x="5" y="2" rx="2"/><path d="M8 21h8"/><path d="M10 21v2"/><path d="M14 21v2"/><path d="M5 12h14"/><path d="M5 7h14"/></IconBase>;
        const Ship = (props) => <IconBase {...props}><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.9 5.8 2.8 8"/><path d="M12 10V4"/><path d="M8 8v2"/><path d="M16 8v2"/></IconBase>;
        const Plane = (props) => <IconBase {...props}><path d="M2 12h20"/><path d="M13 2l9 10-9 10"/></IconBase>;
        const Qrcode = (props) => <IconBase {...props}><rect x="3" y="3" width="18" height="18" rx="2" ry="2" /><line x1="12" y1="16" x2="16" y2="12" /><line x1="16" y1="16" x2="12" y2="12" /></IconBase>;


        // --- è³‡æ–™æ•¸æ“šçµæ§‹ (Data) ---
        const tripData = [
          {
            day: 1,
            date: "12/5 (äº”)",
            title: "å»£å³¶æŠµé”èˆ‡å’Œå¹³ç´€å¿µ",
            items: [
              { time: "02:30", type: "transport", title: "æ©Ÿå ´æ¥é€ (æ±æ­¢â†’æ¡ƒæ©Ÿ)", icon: <Bus className="w-4 h-4" />, details: ["æ±æ­¢å‡ºç™¼", "å‰å¾€æ¡ƒåœ’æ©Ÿå ´"] },
              { time: "03:50", type: "transport", title: "æŠµé” æ¡ƒåœ’æ©Ÿå ´ T2", icon: <Plane className="w-4 h-4" />, details: [] },
              { time: "07:00", type: "transport", title: "è¯èˆª CI112 èµ·é£›", icon: <Plane className="w-4 h-4" />, details: ["æ¡ƒåœ’æ©Ÿå ´ T2 â†’ å»£å³¶æ©Ÿå ´"] },
              { time: "10:15", type: "transport", title: "æŠµé” å»£å³¶æ©Ÿå ´", icon: <MapPin className="w-4 h-4" />, details: [] },
              { 
                time: "10:40", 
                type: "transport", 
                title: "æ©Ÿå ´å·´å£« (å¾€å»£å³¶ç«™æ–°å¹¹ç·šå£)", 
                icon: <Bus className="w-4 h-4" />, 
                cost: "Â¥1500",
                location: "å»£å³¶æ©Ÿå ´ 2è™Ÿæœˆå°",
                details: [			
			"åœ°é»ï¼šå»£å³¶æ©Ÿå ´å·´å£« 2è™Ÿæœˆå°",
			"å‰é–€ä¸Šè»Šï¼Œæ¯15åˆ†ä¸€ç­", 
			"ç­æ¬¡: 10:30, 10:40, 11:05 (50m)"
		] 
              },
              { time: "11:30", type: "transport", title: "æŠµé” å»£å³¶è»Šç«™æ–°å¹¹ç·šå£", icon: <MapPin className="w-4 h-4" />, details: [] },
              { 
                time: "11:45", 
                type: "food", 
                title: "åˆé¤ & è³¼ç‰©ï¼šå»£å³¶è»Šç«™ minamoa", 
                location: "å»£å³¶è»Šç«™ minamoa",
                details: [
                  "ğŸœ 1F å°¾é“æ‹‰éºµ (10:00-22:00)",
                  "ğŸ› 2F SOUP CURRY KING æ¹¯å’–å“© (10:00-21:00)",
                  "ğŸ¥© 6F å™ã€…è‹‘ ç‡’è‚‰ (11:00-22:00)",
                  "ğŸ›ï¸ ekie 2F å¯¶å¯å¤¢ä¸­å¿ƒ",
                  "ğŸ›ï¸ minamoa 2F æ˜Ÿå·´å…‹ / 4F 3COINS / 5F UNIQLO"
                ]
              },
              { time: "14:50", type: "transport", title: "æ­¥è¡Œå‰å¾€é£¯åº—", icon: <Navigation className="w-4 h-4" />, details: ["è·¯ç¨‹ç´„ 10 åˆ†é˜"] },
              { time: "15:00", type: "hotel", title: "Check-in æ±æ©«INN", location: "æ±æ©«INN å»£å³¶ç«™", details: [] },
              { time: "15:30", type: "transport", title: "å‰å¾€å’Œå¹³å…¬åœ’", location: "å»£å³¶å’Œå¹³å…¬åœ’",icon: <Bus className="w-4 h-4" />, cost: "Â¥240", details: ["å…¬è»Š/å»£é›»", "è·¯ç¨‹ç´„ 24 åˆ†é˜"] },
              { 
                time: "16:00", 
                type: "spot", 
                title: "å»£å³¶å’Œå¹³ç´€å¿µè³‡æ–™é¤¨ & å…¬åœ’", 
                link: "https://www.gltjp.com/zh-hant/article/item/20627/",
                location: "å»£å³¶å’Œå¹³ç´€å¿µè³‡æ–™é¤¨",
                cost: "æˆäººÂ¥200 / 65æ­²+ Â¥100",
                hours: "07:30 - 18:00 (16:30 åœæ­¢å”®ç¥¨)",
                desc: "ç´€éŒ„äº†1945å¹´åŸå­å½ˆçˆ†ç‚¸çš„æ…˜ç—›æ­·å²èˆ‡éºç‰©ã€‚å’Œå¹³ç´€å¿µå…¬åœ’å…§åŒ…å«åŸçˆ†æ­»æ²’è€…æ…°éˆç¢‘ã€‚åŸçˆ†åœ“é ‚é¤¨(åŸå»£å³¶ç¸£ç”¢æ¥­çå‹µé¤¨)æ˜¯å°‘æ•¸åœ¨çˆ†ç‚¸ä¸­å¿ƒå€–å­˜çš„å»ºç¯‰ï¼Œ1996å¹´ç™»éŒ„ç‚ºä¸–ç•Œéºç”¢ï¼Œè±¡å¾µäººé¡å°å’Œå¹³çš„æ¸´æœ›ã€‚",
                details: ["12-2æœˆé–‰é¤¨å‰ä¸€å°æ™‚å…¥å ´éœ€ç·šä¸Šè³¼ç¥¨"] 
              },
              { 
                time: "17:30", 
                type: "spot", 
                title: "åŸçˆ†åœ“é ‚é¤¨", 
                link: "https://www.gltjp.com/zh-hant/article/item/20626/",
                location: "åŸçˆ†åœ“é ‚é¤¨",
                hours: "é»ç‡ˆ: 20:00 - 00:00",
                desc: "ä¸–ç•Œæ–‡åŒ–éºç”¢ï¼Œä¿ç•™äº†åŸçˆ†ç•¶æ™‚çš„æ®˜ç ´æ™¯è±¡ï¼Œä½œç‚ºè­¦æƒ•ä¸–äººçš„å’Œå¹³è±¡å¾µã€‚",
                details: ["1996å¹´12æœˆï¼ŒåŸçˆ†åœ“é ‚å±‹è¢«ç™»éŒ„ç‚ºä¸–ç•Œéºç”¢ã€‚"] 
              },
              { 
                time: "18:30", 
                type: "food", 
                title: "æ™šé¤ & è³¼ç‰©ï¼šæœ¬é€šå•†åº—è¡—", 
                location: "å»£å³¶æœ¬é€šå•†åº—è¡—",
                details: [
                  "ğŸ® æ¾å±‹ (24hr)",
                  "ğŸ¥ Nagataya å»£å³¶ç‡’ (11:00-20:30, æ’éšŠåº—)",
                  "ğŸ¥ å»£å³¶ç‡’æ‘4F ã‚ã¨ã‚€ (11:00-00:00, æ’éšŠåº—)",
                  "ğŸ›ï¸ LOFT, Seria (10:00-19:30)",
                  "ğŸ›ï¸ å¤§å‰µ, UNIQLO (10:30-20:00)",
                  "ğŸ›ï¸ PARCO (10:00-20:30)",
                  "ğŸ›ï¸ å”å‰è»»å¾· (10:00-05:00)"
                ]
              },
              { time: "20:30", type: "transport", title: "å›é£¯åº—", icon: <Bus className="w-4 h-4" />, cost: "Â¥240", details: ["å…¬è»Š/å»£é›»", "è·¯ç¨‹ç´„ 13 åˆ†é˜"] },
              { time: "20:50", type: "hotel", title: "ä¼‘æ¯ï¼šæ±æ©«INN", location: "æ±æ©«INN", details: [] },
            ]
          },
          {
            day: 2,
            date: "12/6 (å…­)",
            title: "å»£å³¶åŸèˆ‡å³å¸‚å·¡ç¦®",
            items: [
              { time: "08:30", type: "transport", title: "å‰å¾€å»£å³¶åŸ", icon: <Bus className="w-4 h-4" />, cost: "Â¥240", details: ["æ­¥è¡Œ7åˆ†è‡³å»£å³¶ç«™â†’å…¬è»Šè‡³åˆåŒå»³èˆå‰â†’æ­¥è¡Œ5åˆ†", "ç¸½è·¯ç¨‹ç´„ 20 åˆ†é˜"] },
              { 
                time: "09:00", 
                type: "spot", 
                title: "å»£å³¶åŸ (é¯‰é­šåŸ)", 
                link: "https://tw.japan-travel-note.com/posts/111",
                location: "å»£å³¶åŸ",
                cost: "å¤©å®ˆé–£ Â¥370 / 65æ­²+ Â¥180",
                hours: "å¤©å®ˆé–£ 09:00-17:00 / äºŒä¹‹ä¸¸ -16:30",
                desc: "ç”±æ¯›åˆ©è¼å…ƒå»ºæ–¼1589å¹´ï¼Œåˆ¥ç¨±ã€Œé¯‰åŸã€ã€‚é›–ç„¶åŸå»ºç¯‰åœ¨åŸçˆ†ä¸­æ‘§æ¯€ï¼Œä½†åœ¨1958å¹´é‡å»ºäº†å¤©å®ˆé–£ã€‚å…§éƒ¨å±•ç¤ºæ­¦å£«æ–‡åŒ–èˆ‡å»£å³¶æ­·å²ã€‚",
                details: [] 
              },
              { time: "10:00", type: "spot", title: "å»£å³¶è­·åœ‹ç¥ç¤¾", link: "https://dive-hiroshima.com/tw/explore/1135/", location: "å»£å³¶è­·åœ‹ç¥ç¤¾", hours: "09:00 - 16:30", desc: "ä½æ–¼å»£å³¶åŸè·¡å…§ï¼Œæ˜¯å»£å³¶ç¸£åˆè©£åƒæ‹œäººæ•¸æœ€å¤šçš„ç¥ç¤¾ï¼Œç¥ˆæ±‚å’Œå¹³èˆ‡ç¹æ¦®ã€‚", details: [] },
              { time: "10:45", type: "transport", title: "å‰å¾€å»£å³¶è»Šç«™", icon: <Bus className="w-4 h-4" />, cost: "Â¥240", details: ["æ­¥è¡Œ25åˆ† æˆ– æ­ä¹˜è§€å·´/å·´å£«(ç´„20åˆ†)"] },
              { 
                time: "11:45", 
                type: "food", 
                title: "åˆé¤ï¼šç‚­ç„¼ç‰›ãŸã‚“æ±å±± é›…", 
                location: "å»£å³¶è»Šç«™ ç‚­ç„¼ç‰›ãŸã‚“æ±å±± é›…",
                hours: "11:00 - 22:00",
                details: ["ä»™å°ç‰›èˆŒå°ˆè³£åº—"]
              },
              { time: "13:00", type: "transport", title: "JRå±±é™½æœ¬ç·š/å³ç·š (å¾€å³å¸‚)", icon: <Train className="w-4 h-4" />, cost: "Â¥510", details: ["å»£å³¶ç«™ â†’ å³ç«™", "ç­æ¬¡: 13:00, 13:10, 13:30", "è»Šç¨‹ç´„ 33 åˆ†é˜"] },
              { time: "13:45", type: "transport", title: "æ­¥è¡Œè‡³å¤§å’Œåšç‰©é¤¨", icon: <Navigation className="w-4 h-4" />, details: ["å¾å³ç«™2æ¨“å¾€é«˜æ¶æ©‹æ–¹å‘ï¼Œç´„7åˆ†é˜"] },
              { 
                time: "14:00", 
                type: "spot", 
                title: "å³å¸‚æµ·äº‹æ­·å²ç§‘å­¸é¤¨ (å¤§å’Œåšç‰©é¤¨)", 
                link: "https://journey.tw/yamato-museum/",
                location: "å¤§å’Œåšç‰©é¤¨",
                cost: "Â¥500",
                hours: "09:00 - 18:00 (17:30 æœ€å¾Œå…¥å ´)",
                desc: "é®é¤¨ä¹‹å¯¶æ˜¯1/10æ¯”ä¾‹çš„ã€Œå¤§å’Œè™Ÿã€æˆ°è‰¦æ¨¡å‹ã€‚å³å¸‚æ›¾æ˜¯æ—¥æœ¬æµ·è»ç¬¬ä¸€å¤§å·¥å» ï¼Œæ­¤é¤¨å±•ç¤ºäº†é€ èˆ¹ç§‘æŠ€èˆ‡æµ·è»æ­·å²ã€‚",
                details: [] 
              },
              { 
                time: "15:00", 
                type: "spot", 
                title: "æµ·ä¸Šè‡ªè¡›éšŠå³å²æ–™é¤¨ (éµé¯¨é¤¨)", 
                link: "https://www.gltjp.com/zh-hant/directory/item/12506/",
                location: "æµ·ä¸Šè‡ªè¡›éšŠå³å²æ–™é¤¨",
                hours: "10:00 - 18:00 (17:30 æœ€å¾Œå…¥å ´)",
                cost: "å…è²»å…¥å ´",
                desc: "æ—¥æœ¬å”¯ä¸€å±•ç¤ºçœŸå¯¦é€€å½¹æ½›æ°´è‰‡ã€Œç§‹æ½®è™Ÿã€çš„åšç‰©é¤¨ï¼ŒéŠå®¢å¯ä»¥å¯¦éš›é€²å…¥æ½›æ°´è‰‡å…§éƒ¨åƒè§€ï¼Œé«”é©—æµ·è‡ªçš„ç”Ÿæ´»ã€‚",
                details: [] 
              },
              { time: "16:20", type: "transport", title: "å³ä¸­å¤®ç¢¼é ­1æ¨“ å ±åˆ°", location: "å³ç£èˆ¹è‰¦å·¡ç¦®", details: ["æº–å‚™åƒåŠ å³ç£èˆ¹è‰¦å·¡ç¦®"] },
              { 
                time: "16:35", 
                type: "spot", 
                title: "å³ç£èˆ¹è‰¦å·¡ç¦® (å¤•é™½èˆ¹ç­)", 
                link: "https://journey.tw/kure-naval-vessel-cruising-tour/",
                location: "å³ç£èˆ¹è‰¦å·¡ç¦®",
                cost: "Â¥1700",
                desc: "è¿‘è·é›¢è§€è³æµ·ä¸Šè‡ªè¡›éšŠçš„è­·è¡›è‰¦ã€æ½›æ°´è‰‡ç­‰ç¾å½¹èˆ¹è‰¦ã€‚å¤•é™½æ™‚åˆ†é…åˆè»è‰¦æ——é™æ——å„€å¼ï¼ˆè¦–æƒ…æ³ï¼‰ï¼Œæ™¯è‰²å£¯è§€ã€‚",
                details: ["å‡ºç™¼å‰15åˆ†é˜å ±åˆ°", "èˆªç¨‹35åˆ†é˜", "âŒ ç¦æ­¢æ’å‚˜"] 
              },
              { 
                time: "17:30", 
                type: "food", 
                title: "æ™šé¤ & è³¼ç‰©ï¼šyoume Town å³åº—", 
                location: "youme Town Kure",
                details: [
                  "ğŸ± 3F å®šé£Ÿå±‹ç™¾èœæ—¬ (11:00-21:00)",
                  "ğŸ›ï¸ 1-2F Uniqlo, Seria"
                ]
              },
              { time: "20:07", type: "transport", title: "JRå³ç·š å›å»£å³¶", icon: <Train className="w-4 h-4" />, details: ["å³ç«™ â†’ å»£å³¶ç«™", "ç­æ¬¡: 20:07, 20:32, 21:22", "è»Šç¨‹ç´„ 50 åˆ†é˜"] }
            ]
          },
          {
            day: 3,
            date: "12/7 (æ—¥)",
            title: "å°¾é“æ•£ç­–èˆ‡ä¸‰åŸèŠ±ç«",
            items: [
              { time: "08:20", type: "transport", title: "å‰å¾€å°¾é“", icon: <Train className="w-4 h-4" />, cost: "Â¥1,520 (æ™®é€šè»Š)", details: ["Aæ–¹æ¡ˆ(æ™®é€šè»Š): å»£å³¶â†’ç³¸å´â†’å°¾é“ (ç´„1.5-2hr)","ç­æ¬¡:8:48ã€9:50", "Bæ–¹æ¡ˆ(æ–°å¹¹ç·š): è‡ªç”±å¸­Â¥2510, è½‰ä¹˜è¼ƒå¿«(ç´„1hr)","ç­æ¬¡:8:40ã€9:38"] },
              { time: "10:30", type: "spot", title: "å°¾é“æœ¬é€šå•†åº—è¡—", link: "https://www.gltjp.com/zh-hant/directory/item/11374/", location: "å°¾é“æœ¬é€šå•†åº—è¡—", desc: "å……æ»¿æ˜­å’Œé¢¨æƒ…çš„å•†åº—è¡—ï¼Œæœ‰è¨±å¤šè€èˆ–èˆ‡æ–‡é’å°åº—ã€‚", details: [] },
              
              { 
                time: "11:15", 
                type: "info", 
                title: "ğŸ”” é–‹æ”¾é è¾¦ç™»æ©Ÿ", 
                icon: <Qrcode className="w-4 h-4 text-blue-500" />, 
                details: ["å›ç¨‹èˆªç­ CI113 é–‹æ”¾ç·šä¸Šå ±åˆ°ï¼", "å»ºè­°å…ˆé¸ä½"] 
              }, 
		{ 
                time: "11:30", 
                type: "food", 
                title: "åˆé¤ï¼šå°¾é“æ‹‰éºµ", 
                location: "å°¾é“æ‹‰éºµ",
                details: [
                  "ğŸœ å°¾é“æ‹‰éºµãƒ™ãƒƒãƒãƒ£ãƒ¼ (11:00-21:00)",
                  "ğŸœ Maruboshi (10:30-20:00)",
                  "ğŸ® å°é‡è²“é»å¿ƒé‹ªå¸ƒä¸ (11:00-18:00)"
                ]
              },
              { 
                time: "13:30", 
                type: "transport", 
                title: "åƒå…‰å¯ºå±±çºœè»Š", 
                icon: <Navigation className="w-4 h-4" />, 
                cost: "å–®ç¨‹Â¥500 / ä¾†å›Â¥700",
                location: "åƒå…‰å¯ºå±±çºœè»Š",
                hours: "09:00 - 17:15 (15åˆ†ä¸€ç­)",
                details: ["å»ºè­°æ­çºœè»Šä¸Šå±±ï¼Œèµ°è·¯ä¸‹å±±(ç´„20åˆ†)"] 
              },
              { 
                time: "13:30", 
                type: "spot", 
                title: "åƒå…‰å¯º & å…¬åœ’", 
                link: "https://www.gltjp.com/zh-hant/directory/item/11317/",
                location: "åƒå…‰å¯º",
                hours: "09:00 - 17:00",
                desc: "å°¾é“çš„ä»£è¡¨æ€§å¯ºé™¢ï¼Œå¾æœ¬å ‚å¯ä¿¯ç°ç€¨æˆ¶å…§æµ·èˆ‡å°¾é“æ°´é“çš„çµ•æ™¯ã€‚å…¬åœ’å…§æœ‰è¨±å¤šæ–‡å­¸ç¢‘ã€‚",
                details: ["âš ï¸ åƒå…‰å¯ºç„¡å»æ‰€ (å…¬åœ’æœ‰)", "é™„è¿‘å¤šå¢“åœ°(æ—¥æœ¬æ–‡åŒ–è¦–ç‚ºç¦åœ°)"] 
              },
              { 
                time: "14:30", 
                type: "spot", 
                title: "å°¾é“å¸‚ç«‹ç¾è¡“é¤¨", 
                link: "https://www.gltjp.com/zh-hant/directory/item/16947/",
                location: "å°¾é“å¸‚ç«‹ç¾è¡“é¤¨",
                cost: "Â¥310 / 70æ­²+ å…è²»",
                hours: "09:00 - 17:00",
                desc: "å»ºç¯‰å¤§å¸«å®‰è—¤å¿ é›„è¨­è¨ˆæ”¹å»ºï¼Œçµåˆäº†å¤è¹Ÿèˆ‡ç¾ä»£æ¸…æ°´æ¨¡å»ºç¯‰ã€‚",
                details: [] 
              },
              { time: "16:00", type: "spot", title: "è²“ä¹‹ç´°é“", link: "https://www.gltjp.com/zh-hant/directory/item/10501/", location: "è²“ä¹‹ç´°é“", desc: "ç‹¹çª„èœ¿èœ’çš„å¡é“ï¼Œè£é£¾è‘—è¨±å¤šã€Œç¦çŸ³è²“ã€ï¼Œæ˜¯è²“å¥´è–åœ°ï¼Œæ²¿é€”æœ‰è¨±å¤šç‰¹è‰²å’–å•¡å»³ã€‚", details: ["èµ°è·¯ä¸‹å±±"] },
              { time: "17:03", type: "transport", title: "JRå±±é™½æœ¬ç·š (å¾€ä¸‰åŸ)", location: "ä¸‰åŸè»Šç«™", icon: <Train className="w-4 h-4" />, cost: "Â¥240", details: ["å°¾é“ â†’ ç³¸å´ â†’ ä¸‰åŸ", "ç­æ¬¡: 17:03, 17:21(15m)"] },
              { time: "17:20", type: "spot", title: "ä¸‰åŸåŸè·¡ (æµ®åŸ)", link: "https://kavana.tw/mihara-castle/", location: "ä¸‰åŸåŸè·¡", hours: "06:30 - 22:00", desc: "å°æ—©å·éš†æ™¯æ‰€å»ºï¼Œåˆ©ç”¨ç€¨æˆ¶å…§æµ·æ½®æ±é˜²ç¦¦ï¼Œæ»¿æ½®æ™‚å®›å¦‚æµ®åœ¨æµ·ä¸Šã€‚", details: [] },
              { 
                time: "17:45", 
                type: "food", 
                title: "æ™šé¤ï¼šä¸‰åŸç« é­šæ–™ç†", 
                location: "ä¸‰åŸè»Šç«™å‘¨é‚Š",
                details: [
                  "ğŸ™ Kodama ç« é­šå¤©å©¦ç¾… (08:00-18:00)",
                  "ğŸ± å’Œé£Ÿå‡¦ ç™»å–œå°† (11:30-21:00)"
                ]
              },
              { 
                time: "18:45", 
                type: "spot", 
                title: "âœ¨ ä¸‰åŸèŠ±ç«å¤§æœƒ", 
                location: "ä¸‰åŸæ¸¯å‘¨é‚Š",
                link: "https://www.yassa.net/hanabi.html",
                hours: "18:45 - 19:30",
                desc: "å†¬å­£çš„ç’€ç’¨ç…™ç«ï¼Œé»äº®ä¸‰åŸæµ®åŸçš„å¤œç©ºã€‚è·é›¢è»Šç«™å¾ˆè¿‘ï¼Œå¯ä»¥åœ¨ä¸‰åŸåŸè·¡æˆ–æ¸¯å£é‚Šæ¬£è³ã€‚",
                details: ["âš ï¸ å†¬å­£æµ·é‚Šé¢¨å¤§è«‹å‹™å¿…ä¿æš–", "è§€è³å¾Œè«‹ç•™æ„å›ç¨‹é›»è»Šæ™‚é–“"] 
              },
              { 
                time: "19:13", 
                type: "transport", 
                title: "è¿”å›å»£å³¶", 
                icon: <Train className="w-4 h-4" />, 
                details: [
                    "A: JRå±±é™½æœ¬ç·š Â¥1340 (ç´„74åˆ†)", 
                    "ç­æ¬¡: 19:13, 19:43",
                    "B: æ–°å¹¹ç·šè‡ªç”±å¸­ Â¥2330 (ç´„26åˆ†)",
					"ç­æ¬¡: 19:41, 20:22",
                ] 
              }
            ]
          },
          {
            day: 4,
            date: "12/8 (ä¸€)",
            title: "å®®å³¶ä¸€æ—¥éŠ",
            items: [
              { time: "08:00", type: "transport", title: "JRå±±é™½æœ¬ç·š (å¾€å®®å³¶å£)", icon: <Train className="w-4 h-4" />, cost: "Â¥420", details: ["å»£å³¶ â†’ å®®å³¶å£ å²©å›½è¡Œ", "ç­æ¬¡: 08:21, 08:35, 08:54", "è»Šç¨‹ 42 åˆ†"] },
              { 
                time: "09:10", 
                type: "transport", 
                title: "JRè¥¿æ—¥æœ¬å®®å³¶æ¸¡è¼ª", 
                icon: <Ship className="w-4 h-4" />, 
                cost: "ä¾†å›Â¥400 + ç¨…Â¥100",
                location: "å®®å³¶å£æ¸¡è¼ªä¹˜èˆ¹è™•",
                details: ["09:10-16:10 èˆ¹ç­æœƒç¹è¡Œé è¿‘å¤§é³¥å±…","èˆ¹ç¨‹:10åˆ†", "ç­æ¬¡: æ¯15åˆ†ä¸€ç­ (10, 25, 40, 55)"] 
              },
              { time: "09:20", type: "spot", title: "å®®å³¶ (æ—¥æœ¬ä¸‰æ™¯)", link: "https://www.japan.travel/hk/destinations/chugoku/hiroshima/miyajima/", location: "å®®å³¶", desc: "äººèˆ‡ç¥å…±å­˜çš„å³¶å¶¼ï¼Œéš¨è™•å¯è¦‹é‡ç”Ÿçš„é¹¿ï¼ˆè«‹å‹¿é¤µé£Ÿï¼‰ã€‚", details: [] },
              { time: "09:26", type: "spot", title: "å®®å³¶éƒµå±€", location: "å®®å³¶éƒµå±€", hours: "09:00 - 17:00", details: ["å¯„æ˜ä¿¡ç‰‡ (éƒµè³‡Â¥100)"] },
              { time: "09:30", type: "food", title: "è¡¨åƒé“å•†åº—è¡— (é»å¿ƒ)", location: "å®®å³¶è¡¨å‚é“å•†åº—è¡—", details: ["çƒ¤ç‰¡è £ã€ç‚¸ç´…è‘‰é¥…é ­ã€ç©´å­é­š", "å·¨å¤§å®®å³¶é£¯æ“å±•ç¤º"] },
              { time: "09:45", type: "spot", title: "åš´å³¶ç¥ç¤¾ å¤§é³¥å±…", link: "https://www.newamazing.com.tw/eweb_newamazing/japan/shikoku/itsukushima-shinto-shrine.asp", location: "åš´å³¶ç¥ç¤¾å¤§é³¥å±…", desc: "æµ·ä¸Šçš„æœ±ç´…è‰²å¤§é³¥å±…ï¼Œæ˜¯å®®å³¶çš„åœ°æ¨™ã€‚é€€æ½®æ™‚å¯ä»¥èµ°ä¸‹å»è¿‘è·é›¢è§€è³ã€‚", details: ["ç¢ºèªç•¶æ—¥æ½®æ±æ™‚é–“"] },
              { time: "10:00", type: "spot", title: "ç´…è‘‰è°·å…¬åœ’", link: "https://www.gltjp.com/zh-hant/directory/item/14665/", location: "ç´…è‘‰è°·å…¬åœ’", desc: "ä½æ–¼å½Œå±±å±±è…³ï¼Œç¨®æ¤ç´„700æ ªç´…è‘‰ï¼Œæ™¯è‰²å„ªç¾ã€‚", details: [] },
              { 
                time: "10:30", 
                type: "spot", 
                title: "å®®å³¶çºœè»Š & å½Œå±±(ä¸–ç•Œè‡ªç„¶éºç”¢)", 
                link: "https://journey.tw/miyajima-ropeway/",
                location: "å®®å³¶çºœè»Šç´…è‘‰è°·ç«™", 
                cost: "ä¾†å›Â¥2000ã€ 65ä»¥ä¸ŠÂ¥1800",
                hours: "09:00 - 16:00",
                desc: "ä¸–ç•Œè‡ªç„¶éºç”¢ã€‚æ­çºœè»Šè‡³ç…å­å²©å±•æœ›å°ï¼Œå¯çœºæœ›ç€¨æˆ¶å…§æµ·ç¾¤å³¶ç¾æ™¯ã€‚",
                details: ["ç…å­å²©å±•æœ›å°", "å½Œå±±æ”»é ‚éœ€å†çˆ¬è¡Œ(ä¾†å›1-2hr)ï¼Œè¦–é«”åŠ›æ±ºå®š"] 
              },
              { 
                time: "12:30", 
                type: "food", 
                title: "åˆé¤ï¼šå®®å³¶ç¾é£Ÿ", 
                location: "å®®å³¶è¡¨å‚é“å•†åº—è¡—",
                details: [
                  "ğŸ¦ª ç‰¡è £å±‹ (10:00-18:00)",
                  "ğŸ¦ª ç„¼ãŒãã®ã¯ã‚„ã— (10:30-16:30)",
                  "ğŸ± å²©ã‚€ã‚‰ çƒ¤æ˜Ÿé°»é£¯ (11:00-14:35)",
                  "ğŸ ç´…è‘‰å ‚ ç‚¸ç´…è‘‰é¥…é ­ (09:00-17:30)",
                  "â˜• ä¼Šéƒ½å²å’–å•¡ (09:00-18:00)"
                ]
              },
              { 
                time: "14:00", 
                type: "spot", 
                title: "è±åœ‹ç¥ç¤¾ (åƒç–Šé–£) & äº”é‡å¡”", 
                link: "https://www.fun-japan.jp/tw/articles/9418",
                location: "è±åœ‹ç¥ç¤¾(åƒç–Šé–£)",
                cost: "Â¥100",
                desc: "è±è‡£ç§€å‰ä¸‹ä»¤å»ºé€ çš„å¤§ç¶“å ‚ï¼Œæœªå®Œå·¥ä¾¿éä¸–ï¼Œå‘ˆç¾ç¨ç‰¹çš„é–‹æ”¾å¼çµæ§‹ã€‚äº”é‡å¡”è‰²å½©é®®è±”ï¼Œèåˆå’Œæ¨£èˆ‡å”æ¨£é¢¨æ ¼ã€‚",
                details: [] 
              },
              { 
                time: "14:30", 
                type: "spot", 
                title: "åš´å³¶ç¥ç¤¾(ä¸–ç•Œæ–‡åŒ–éºç”¢)", 
                link: "https://dive-hiroshima.com/tw/feature/world_heritage-about_itsukushima/",
                location: "åš´å³¶ç¥ç¤¾",
                cost: "Â¥300",
                hours: "06:30 - 17:00",
                desc: "ä¸–ç•Œæ–‡åŒ–éºç”¢ï¼Œå»ºæ–¼æµ·ä¸Šçš„å¯¢æ®¿é€ å»ºç¯‰ã€‚è¿´å»Šéš¨æ½®æ°´æ¼²é€€å±•ç¾ä¸åŒé¢¨è²Œã€‚",
                details: [] 
              },
              { time: "14:30", type: "spot", title: "å¤§è–é™¢", link: "https://www.gltjp.com/zh-hant/directory/item/14734/", location: "å®®å³¶å¤§è–é™¢", hours: "08:00 - 17:00", desc: "å®®å³¶æ­·å²æœ€æ‚ ä¹…çš„å¯ºé™¢ï¼Œå¢ƒå…§æœ‰è¨±å¤šå¯æ„›çš„å°åœ°è—èˆ‡éç…§çªŸã€‚", details: ["è¦–æ™‚é–“é¸é€›"] },
              { time: "17:55", type: "transport", title: "æ¸¡è¼ªè¿”ç¨‹", icon: <Ship className="w-4 h-4" />, details: ["å®®å³¶ â†’ å®®å³¶å£", "JRç­æ¬¡: 10, 25, 40, 55","æ¾å¤§ç­æ¬¡: 00, 15, 30, 45"] },
              { time: "19:03", type: "transport", title: "JRå±±é™½æœ¬ç·š å›å»£å³¶", icon: <Train className="w-4 h-4" />, cost: "Â¥420", details: ["å®®å³¶å£ â†’ å»£å³¶","è»Šç¨‹: 15åˆ†", "ç­æ¬¡: 18:47, 19:03, 19:18"] }
            ]
          },
          {
            day: 5,
            date: "12/9 (äºŒ)",
            title: "è¿”ç¨‹",
            items: [
              { time: "06:15", type: "hotel", title: "Check-out æ±æ©«INN", details: [] },
              { 
                time: "07:00", 
                type: "transport", 
                title: "æ©Ÿå ´å·´å£« (å¾€æ©Ÿå ´)", 
                icon: <Bus className="w-4 h-4" />, 
                location: "å»£å³¶ç«™åŒ—å£ 5è™Ÿæœˆå°",
                details: ["ç­æ¬¡: 06:45, 07:00, 07:15 (æ¯15åˆ†ä¸€ç­)","ä½ç½®: JRå»£å³¶ç«™åŒ—å£5è™Ÿæœˆå°", "è»Šç¨‹ç´„ 50 åˆ†é˜"] 
              },
              { time: "07:50", type: "transport", title: "æŠµé” å»£å³¶æ©Ÿå ´", icon: <MapPin className="w-4 h-4" />, details: [] },
              { time: "11:15", type: "transport", title: "è¯èˆª CI113 èµ·é£›", icon: <Plane className="w-4 h-4" />, details: ["å»£å³¶æ©Ÿå ´ â†’ æ¡ƒåœ’æ©Ÿå ´ T2"] },
              { time: "13:10", type: "transport", title: "æŠµé” æ¡ƒåœ’æ©Ÿå ´ T2", icon: <MapPin className="w-4 h-4" />, details: ["å¹³å®‰å›å®¶"] }
            ]
          }
        ];
        
        // --- æº–å‚™æ¸…å–®æ•¸æ“š ---
        const prepChecklist = [
            "è­·ç…§",
            "Visit Japan Web (å¡«å¯«å®Œæˆ)",
            "æ—¥å¹£ (ç¾é‡‘)",
            "ä¿¡ç”¨å¡",
            "äº¤é€šå¡ (å¦‚ ICOCA)",
            "ç¶²è·¯ (eSIM/Simå¡/Wifiæ©Ÿ)",
            "å……é›»å™¨(æ³¨æ„æ¥é ­)",
            "å……é›»ç·š(æ³¨æ„æ¥é ­)",
            "æ‰‹éŒ¶å……é›»ç·š",
            "è¡Œå‹•é›»æº",
            "æš–æš–åŒ…",
            "å€‹äººè—¥å“",
            "è“‹ç« æœ¬",
            "ä¿æš–è¡£ç‰©ã€è¤²å­",
            "è¥ªå­",
            "æ¯›å¸½",
            "å£ç½©",
            "æ°´å£º",
            "é›¨å‚˜",
            "å¤¾éˆè¢‹",
            "æ‰‹æ©Ÿå¢Šç‰‡",
            "è‡ªæ‹æ£’"
        ];
        
        // --- äº¤é€šè³‡è¨ŠæŸ¥è©¢åˆ—è¡¨ (æ›´æ–°é€£çµ) ---
        const transportLinks = [
            { 
                name: "æ©Ÿå ´å·´å£«", 
                icon: <Bus size={20} className="text-blue-500"/>, 
                query: "å»£å³¶æ©Ÿå ´ å·´å£« æ™‚åˆ»è¡¨",
                link: "https://www.hij.airport.jp/access/timetable/2.html"
            },
            { 
                name: "å»£å³¶é›»éµ", 
                icon: <Train size={20} className="text-blue-500"/>, 
                query: "å»£å³¶é›»éµ è·¯é¢é›»è»Š æ™‚åˆ»è¡¨",
                link: "https://www.hiroden.co.jp/train/index.html"
            },
            { 
                name: "JRè¥¿æ—¥æœ¬å®®å³¶æ¸¡è¼ª", 
                icon: <Ship size={20} className="text-blue-500"/>, 
                query: "JRè¥¿æ—¥æœ¬å®®å³¶æ¸¡è¼ª æ™‚åˆ»è¡¨",
                link: "https://jr-miyajimaferry.co.jp/timetable/"
            },
            { 
                name: "å®®å³¶æ¾å¤§æ±½èˆ¹", 
                icon: <Ship size={20} className="text-blue-500"/>, 
                query: "å®®å³¶æ¾å¤§æ±½èˆ¹ æ™‚åˆ»è¡¨",
                link: "https://miyajima-matsudai.co.jp/schedule.html"
            },
            { 
                name: "JR è¥¿æ—¥æœ¬", 
                icon: <Train size={20} className="text-blue-500"/>, 
                query: "JR è¥¿æ—¥æœ¬ è·¯ç·š æ™‚åˆ»è¡¨",
                link: "https://www.jr-odekake.net/?_gl=1*k6na6m*_ga*NTIwNjU5OTEwLjE3NjQzNzg1MDI.*_ga_1EX2KJB2NH*czE3NjQ0MTMyODAkbzUkZzEkdDE3NjQ0MjEzMjgkajYwJGwwJGgw"
            }
        ];


        // --- å…ƒä»¶ Components ---

        const IntroModal = ({ spot, onClose }) => {
          if (!spot) return null;
          return (
            <div className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 animate-fade-in">
              <div className="bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl transform transition-all scale-100 max-h-[90vh] flex flex-col">
                <div className="bg-blue-50 p-4 flex justify-between items-center text-blue-800 shrink-0 border-b border-blue-100"> 
                  <h3 className="text-lg font-bold flex items-center gap-2">
                    <BookOpen size={20} />
                    æ™¯é»æ•…äº‹
                  </h3>
                  <button onClick={onClose} className="p-1 hover:bg-blue-100 rounded-full transition"><X size={24} /></button>
                </div>
                <div className="p-6 overflow-y-auto">
                  <h2 className="text-xl font-bold mb-3 text-gray-800">{spot.title}</h2>
                  <p className="text-gray-600 leading-relaxed text-justify mb-4">
                    {spot.desc || "æš«ç„¡è©³ç´°ä»‹ç´¹ï¼Œè«‹è¦ªè‡ªæ¢ç´¢ï¼"}
                  </p>
                  <a 
                    href={spot.link || `https://www.google.com/search?q=${encodeURIComponent(spot.title)}`}
                    target="_blank"
                    rel="noreferrer"
                    className="flex items-center justify-center gap-2 w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-xl font-bold transition shadow-md"
                  >
                    <ExternalLink size={18} />
                    é–±è®€æ›´å¤š
                  </a>

                </div>
              </div>
            </div>
          );
        };

        const ItineraryCard = ({ item, onShowIntro }) => {
          // æ ¹æ“šé¡å‹æ±ºå®šå¡ç‰‡æ¨£å¼
          const isTransport = item.type === "transport";
          const isFood = item.type === "food";
          const isSpot = item.type === "spot";
          const isHotel = item.type === "hotel";
          const isInfo = item.type === "info";

          let cardBg = "bg-white border-l-4 border-gray-300"; // Default
          if (isTransport) cardBg = "bg-slate-50 border-l-4 border-blue-400";
          if (isSpot) cardBg = "bg-white border-l-4 border-amber-500";
          if (isFood) cardBg = "bg-orange-50 border-l-4 border-orange-400";
          if (isHotel) cardBg = "bg-indigo-50 border-l-4 border-indigo-500";
          if (isInfo) cardBg = "bg-blue-50 border-l-4 border-blue-500";

          const showMapButton = item.location || item.title;
          const showIntroButton = isSpot || (item.desc && item.desc.length > 0);

          return (
            <div className={`relative rounded-xl shadow-sm p-4 mb-4 ${cardBg} transition-transform active:scale-[0.99]`}>
              <div className="flex justify-between items-start mb-2">
                <div className={`text-white text-xs font-bold px-2 py-1 rounded flex items-center gap-1 shadow-sm ${isInfo ? 'bg-blue-600' : 'bg-gray-800'}`}>
                  <Clock size={12} />
                  {item.time}
                </div>
                <div className="text-gray-400">
                  {isTransport && item.icon}
                  {isSpot && <MapPin className="w-4 h-4 text-amber-500" />}
                  {isFood && (item.title.includes("è³¼ç‰©") ? <ShoppingBag className="w-4 h-4 text-orange-500" /> : <Utensils className="w-4 h-4 text-orange-500" />)}
                  {isHotel && <Briefcase className="w-4 h-4 text-indigo-500" />}
                  {isInfo && item.icon}
                </div>
              </div>
              <div className="ml-1">
                <h3 className="text-lg font-bold text-gray-800 mb-1 leading-snug">{item.title}</h3>
                <div className="flex flex-wrap gap-2 text-sm mb-2">
                  {item.cost && (
                    <span className="inline-flex items-center text-emerald-600 font-medium bg-emerald-50 px-2 py-0.5 rounded text-xs">
                      ğŸ’° {item.cost}
                    </span>
                  )}
                  {item.hours && (
                    <span className="inline-flex items-center text-blue-600 font-medium bg-blue-50 px-2 py-0.5 rounded text-xs">
                      ğŸ•‘ {item.hours}
                    </span>
                  )}
                </div>
                {item.details && item.details.length > 0 && (
                  <ul className="space-y-1 text-sm text-gray-600 mb-3 pl-1">
                    {item.details.map((detail, idx) => (
                      <li key={idx} className="flex items-start gap-1.5 leading-relaxed">
                        <span className="block w-1 h-1 mt-2 rounded-full bg-gray-400 shrink-0"></span>
                        <span>{detail}</span>
                      </li>
                    ))}
                  </ul>
                )}
                <div className={`flex gap-2 mt-3 ${!(showMapButton || showIntroButton) ? 'hidden' : ''}`}>
                  {showMapButton && (
                    <a 
                      href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.location || item.title)}`}
                      target="_blank" 
                      rel="noreferrer"
                      className={`flex-1 flex items-center justify-center gap-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg text-xs font-bold transition ${!showIntroButton ? 'w-full' : ''}`}
                    >
                      <Navigation size={14} /> åœ°åœ–
                    </a>
                  )}
                  {showIntroButton && (
                    <button 
                      onClick={() => onShowIntro(item)}
                      className={`flex-1 flex items-center justify-center gap-1 bg-amber-100 hover:bg-amber-200 text-amber-800 py-2 rounded-lg text-xs font-bold transition ${!showMapButton ? 'w-full' : ''}`}
                    >
                      <BookOpen size={14} /> ä»‹ç´¹
                    </button>
                  )}
                </div>
              </div>
            </div>
          );
        };

        const FlightDetail = ({ type, timeStart, locStart, timeEnd, locEnd, duration, flightNum }) => (
            <div className="space-y-4">
                <div className="flex justify-between items-center text-sm text-gray-500">
                    <span className="font-bold">{type}</span>
                    <span className="font-semibold text-gray-700">{flightNum}</span>
                </div>
                <div className="flex justify-between items-center relative">
                    <div className="text-left">
                        <div className="text-3xl font-extrabold text-gray-900">{timeStart}</div>
                        <div className="text-sm text-gray-500 mt-1 whitespace-nowrap">{locStart}</div>
                    </div>
                    <div className="relative flex-1 h-px bg-gray-300 mx-3 sm:mx-4">
                        <span className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white px-2 py-0.5 text-xs text-gray-500 rounded-full border border-gray-100 shadow-sm whitespace-nowrap">
                            {duration}
                        </span>
                    </div>
                    <div className="text-right">
                        <div className="text-3xl font-extrabold text-gray-900">{timeEnd}</div>
                        <div className="text-sm text-gray-500 mt-1 whitespace-nowrap">{locEnd}</div>
                    </div>
                </div>
            </div>
        );

        const ItineraryView = ({ activeDay, setActiveDay, onShowIntro }) => {
          const currentDayData = tripData.find(d => d.day === activeDay);
          return (
            <div className="bg-gray-50">
              <div className="sticky top-0 z-40 bg-white shadow-md">
                <div className="flex w-full">
                  {[1, 2, 3, 4, 5].map((day) => (
                    <button
                      key={day}
                      onClick={() => setActiveDay(day)}
                      className={`flex-1 py-3 text-sm font-bold border-b-4 transition-colors relative
                        ${activeDay === day 
                          ? 'border-blue-500 text-blue-600 bg-blue-50' 
                          : 'border-transparent text-gray-400 hover:bg-gray-50'
                        }`}
                    >
                      D{day}
                      <span className="block text-[10px] font-normal mt-0.5">
                        12/{4 + day}
                      </span>
                    </button>
                  ))}
                </div>
              </div>
              <div className="p-4">
                <div className="mb-4 text-center">
                  <h2 className="text-xl font-bold text-gray-800">{currentDayData.title}</h2>
                  <p className="text-sm text-gray-500">{currentDayData.date}</p>
                </div>
                {currentDayData.items.map((item, index) => (
                  <ItineraryCard key={index} item={item} onShowIntro={onShowIntro} />
                ))}
                <div className="text-center text-gray-300 text-sm mt-8 mb-4">
                  â€” Day {activeDay} End â€”
                </div>
              </div>
            </div>
          );
        };

        const InfoView = () => (
          <div className="p-4 bg-gray-50">
            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                <span className="bg-blue-100 text-blue-700 px-2 py-1 rounded-md text-base font-bold tracking-wider">FLIGHT</span>
                <span className="text-gray-800">èˆªç­è³‡è¨Š</span>
            </h2>
            <div className="space-y-6">
              <div className="bg-white rounded-xl shadow-lg p-5">
                <FlightDetail
                    type="å»ç¨‹ 12/5 (äº”)"
                    flightNum="è¯èˆª CI 112"
                    timeStart="07:00"
                    locStart="TPE (æ¡ƒæ©Ÿ T2)"
                    timeEnd="10:15"
                    locEnd="HIJ (å»£å³¶)"
                    duration="2h 15m"
                />
              </div>
              <div className="bg-white rounded-xl shadow-lg p-5">
                <FlightDetail
                    type="å›ç¨‹ 12/9 (äºŒ)"
                    flightNum="è¯èˆª CI 113"
                    timeStart="11:15"
                    locStart="HIJ (å»£å³¶)"
                    timeEnd="13:10"
                    locEnd="TPE (æ¡ƒæ©Ÿ T2)"
                    duration="2h 55m"
                />
                <div className="mt-6 pt-4 border-t border-gray-100">
                    <div className="p-3 bg-blue-50 border-l-4 border-blue-400 rounded-lg text-sm text-blue-800">
                        <p className="font-bold flex items-center gap-1"><Qrcode size={16} /> ç·šä¸Šå ±åˆ°æé†’ï¼š</p>
                        <p>å›ç¨‹èˆªç­ CI113 (12/9) é è¨ˆæ–¼ 12/7 11:15 é–‹æ”¾ç·šä¸Šå ±åˆ° (48å°æ™‚å‰)ã€‚</p>
                    </div>
                </div>
              </div>
              <div className="bg-white rounded-xl shadow-lg p-5 border-l-4 border-indigo-500">
                <h3 className="font-bold text-lg mb-3 flex items-center gap-2"><Briefcase size={18}/> ä½å®¿ï¼šæ±æ©«INN</h3>
                <p className="text-gray-600 mb-4 text-sm">å»£å³¶ç«™æ–°å¹¹ç·šå£ï¼Œäº¤é€šä¾¿åˆ©ã€‚</p>
                <a 
                  href="https://www.google.com/maps/search/?api=1&query=æ±æ©«INNå»£å³¶ç«™" 
                  target="_blank" 
                  rel="noreferrer"
                  className="block w-full text-center bg-indigo-100 text-indigo-700 py-3 rounded-lg font-bold hover:bg-indigo-200 transition"
                >
                  æŸ¥çœ‹é£¯åº—åœ°åœ–
                </a>
              </div>
            </div>
          </div>
        );

        const PrepView = () => (
          <div className="p-4 bg-gray-50">
            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
              <span className="text-green-500"><Calendar size={24}/></span> è¡Œå‰æº–å‚™
            </h2>
            <div className="space-y-4">
              <div className="bg-white rounded-xl shadow-sm p-5">
                <h3 className="font-bold text-lg mb-4 text-gray-800 border-b pb-2">ğŸ§³ è¯èˆªè¡Œæé™åˆ¶</h3>
                <ul className="space-y-3 text-sm text-gray-600">
                  <li className="flex items-start gap-2">
                    <span className="bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold mt-0.5">æ‰˜é‹</span>
                    23å…¬æ–¤/ä»¶ã€‚é•·+å¯¬+é«˜ â‰¤ 158cmã€‚
                  </li>
                  <li className="flex items-start gap-2">
                    <span className="bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold mt-0.5">éš¨èº«</span>
                    7å…¬æ–¤ã€‚56x36x23cmã€‚
                  </li>
                  <li className="flex items-start gap-2">
                    <span className="bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-bold mt-0.5">æ¶²é«”</span>
                    æ¯æ¨£100mlå…§ï¼Œéœ€è£å…¥1å…¬å‡é€æ˜å¤¾éˆè¢‹ã€‚
                  </li>
                </ul>
                <a 
                  href="https://www.china-airlines.com/tw/zh/fly/prepare-for-the-fly/baggage/dangerous-goods-information" 
                  target="_blank"
                  rel="noreferrer" 
                  className="mt-4 flex items-center justify-center gap-2 w-full bg-red-50 text-red-600 border border-red-200 py-3 rounded-lg font-bold hover:bg-red-100 transition"
                >
                  <span className="mr-1"><Info size={16}/></span> å±éšªå“é ˆçŸ¥ (è¡Œå‹•é›»æºç­‰)
                </a>
              </div>
              <div className="bg-white rounded-xl shadow-sm p-5">
                <h3 className="font-bold text-lg mb-3 text-gray-800">âœ… æª¢æŸ¥æ¸…å–®</h3>
                <div className="grid grid-cols-2 gap-x-4 gap-y-2 text-sm text-gray-700">
                    {prepChecklist.map((item, index) => (
                        <label key={index} className="flex items-center gap-2">
                            <input type="checkbox" className="w-4 h-4 rounded text-blue-500 focus:ring-blue-500 border-gray-300"/> 
                            {item}
                        </label>
                    ))}
                </div>
              </div>
              <div className="bg-white rounded-xl shadow-sm p-5">
                <h3 className="font-bold text-lg mb-3 text-gray-800">ğŸ†˜ ç·Šæ€¥è¯çµ¡</h3>
                <div className="text-sm text-gray-600 space-y-2">
                  <p>æ—…å¤–åœ‹äººæ€¥é›£æ•‘åŠ©å°ˆç·šï¼š<br/><span className="font-mono text-lg text-black">0800-085-095</span></p>
                  <p>æ—¥æœ¬å ±è­¦ï¼š110 / æ•‘è­·è»Šï¼š119</p>
                </div>
              </div>
            </div>
          </div>
        );

        const TransportView = () => (
          <div className="p-4 bg-gray-50">
            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
              <span className="text-blue-600"><Train size={24}/></span> äº¤é€šè³‡è¨Š
            </h2>
            <div className="space-y-4">
              <div className="bg-white p-6 rounded-xl shadow-md border-l-4 border-blue-400">
                <h3 className="text-xl font-bold mb-4 text-gray-800">ğŸŒ æ™‚åˆ»è¡¨æŸ¥è©¢</h3>
                <div className="space-y-3">
                  {transportLinks.map((item, index) => (
                    <a 
                        key={index}
                        href={item.link}
                        target="_blank" 
                        rel="noreferrer"
                        className="flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition"
                    >
                        <div className="flex items-center gap-3">
                            {item.icon}
                            <span className="font-medium text-gray-800">{item.name}</span>
                        </div>
                        <ExternalLink size={16} className="text-gray-500" />
                    </a>
                  ))}
                </div>
              </div>
              <h3 className="text-lg font-bold text-gray-800 pt-2 pb-1">äº¤é€šå·¥å…·æ¦‚è¦½</h3>
              <div className="grid grid-cols-2 gap-4">
                <div className="bg-white p-4 rounded-xl shadow-sm text-center">
                  <div className="text-2xl mb-1">ğŸšŒ</div>
                  <div className="font-bold text-gray-700">å»£å³¶å·´å£«</div>
                  <div className="text-xs text-gray-400 mt-1">å¸‚å€ç§»å‹•ä¸»åŠ›</div>
                </div>
                <div className="bg-white p-4 rounded-xl shadow-sm text-center">
                  <div className="text-2xl mb-1">ğŸšƒ</div>
                  <div className="font-bold text-gray-700">å»£å³¶é›»éµ</div>
                  <div className="text-xs text-gray-400 mt-1">è·¯é¢é›»è»Šé«”é©—</div>
                </div>
                <div className="bg-white p-4 rounded-xl shadow-sm text-center">
                  <div className="text-2xl mb-1">â›´ï¸</div>
                  <div className="font-bold text-gray-700">å®®å³¶æ¸¡è¼ª</div>
                  <div className="text-xs text-gray-400 mt-1">JR/æ¾å¤§æ±½èˆ¹</div>
                </div>
                <div className="bg-white p-4 rounded-xl shadow-sm text-center">
                  <div className="text-2xl mb-1">ğŸš†</div>
                  <div className="font-bold text-gray-700">æ–°å¹¹ç·š</div>
                  <div className="text-xs text-gray-400 mt-1">å¿«é€Ÿç§»å‹•</div>
                </div>
              </div>
            </div>
          </div>
        );

        const GuideView = () => (
          <div className="p-4 bg-gray-50">
            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
              <span className="text-amber-500"><BookOpen size={24}/></span> æ—…éŠæŒ‡å—
            </h2>
            <div className="space-y-6">
              {/* æ›´æ–°ï¼šç¾é£Ÿç‰¹ç”¢èˆ‡ä¼´æ‰‹ç¦® (åˆ†é¡é¡¯ç¤º) */}
              <div className="bg-white rounded-xl shadow-sm p-5">
                <h3 className="font-bold text-lg mb-4 flex items-center gap-2 border-b pb-2">ğŸ ç¾é£Ÿç‰¹ç”¢ & ä¼´æ‰‹ç¦®</h3>
                
                {/* å»£å³¶ & å®®å³¶ */}
                <div className="mb-5">
                    <h4 className="text-base font-bold text-gray-700 mb-2 flex items-center gap-1">
                        <span className="text-red-500">â›©ï¸</span> å»£å³¶å¸‚ / å®®å³¶
                    </h4>
                    <ul className="space-y-3">
                        <li className="flex gap-3 items-start p-2 bg-gray-50 rounded-lg">
                            <span className="text-2xl shrink-0">ğŸ¦ª</span>
                            <div>
                                <span className="font-bold block text-gray-800">å»£å³¶ç‰¡è £</span>
                                <span className="text-xs text-gray-500">ç”¢é‡æ—¥æœ¬ç¬¬ä¸€ï¼å¿…åƒçƒ¤ç‰¡è £ã€ç‚¸ç‰¡è £ã€‚ä¼´æ‰‹ç¦®æ¨è–¦ç‰¡è £é†¬æ²¹æµ·è‹”ã€æ²¹æ¼¬ç‰¡è £ç½é ­ã€‚</span>
                            </div>
                        </li>
                        <li className="flex gap-3 items-start p-2 bg-gray-50 rounded-lg">
                            <span className="text-2xl shrink-0">ğŸ±</span>
                            <div>
                                <span className="font-bold block text-gray-800">ç©´å­é­š (æ˜Ÿé°»)</span>
                                <span className="text-xs text-gray-500">å®®å³¶è¡¨åƒé“åç‰©ï¼Œå£æ„Ÿæ¯”ä¸€èˆ¬é°»é­šæ›´é¬†è»Ÿç¶¿å¯†ï¼Œæ¨è–¦å¿…åƒã€Œç©´å­é­šé£¯ã€ã€‚</span>
                            </div>
                        </li>
                        <li className="flex gap-3 items-start p-2 bg-gray-50 rounded-lg">
                            <span className="text-2xl shrink-0">ğŸ</span>
                            <div>
                                <span className="font-bold block text-gray-800">ç´…è‘‰é¥…é ­</span>
                                <span className="text-xs text-gray-500">ç¶“å…¸ä¼´æ‰‹ç¦®ã€‚é™¤äº†å‚³çµ±ç´…è±†é¤¡ï¼Œé‚„æœ‰èµ·å¸ã€å·§å…‹åŠ›å£å‘³ã€‚ç¾ç‚¸çš„ã€Œç‚¸ç´…è‘‰é¥…é ­ã€æ›´æ˜¯ç¾å‘³ï¼</span>
                            </div>
                        </li>
                        <li className="flex gap-3 items-start p-2 bg-gray-50 rounded-lg">
                            <span className="text-2xl shrink-0">ğŸ‹</span>
                            <div>
                                <span className="font-bold block text-gray-800">ç€¨æˆ¶å…§æª¸æª¬</span>
                                <span className="text-xs text-gray-500">å»£å³¶æª¸æª¬ç”¢é‡è±å¯Œã€‚æ¨è–¦æª¸æª¬å¡”ã€æª¸æª¬è›‹ç³•ï¼Œä»¥åŠè¶…æ¶®å˜´çš„ã€ŒèŠ±æå¤©å©¦ç¾…(ç€¨æˆ¶å…§æª¸æª¬å‘³)ã€ã€‚</span>
                            </div>
                        </li>
                    </ul>
                </div>

                {/* å°¾é“ & ä¸‰åŸ */}
                <div className="mb-5">
                    <h4 className="text-base font-bold text-gray-700 mb-2 flex items-center gap-1">
                        <span className="text-blue-500">ğŸŒŠ</span> å°¾é“ / ä¸‰åŸ
                    </h4>
                    <ul className="space-y-3">
                        <li className="flex gap-3 items-start p-2 bg-gray-50 rounded-lg">
                            <span className="text-2xl shrink-0">ğŸœ</span>
                            <div>
                                <span className="font-bold block text-gray-800">å°¾é“æ‹‰éºµ</span>
                                <span className="text-xs text-gray-500">é†¬æ²¹åŸºåº•åŠ ä¸Šè±¬èƒŒè„‚çš„æ¿ƒéƒæ¹¯é ­ã€‚ç•¶åœ°è¶…å¸‚æˆ–ååº—éƒ½æœ‰è²©å”®æ–™ç†åŒ…ã€‚</span>
                            </div>
                        </li>
                        <li className="flex gap-3 items-start p-2 bg-gray-50 rounded-lg">
                            <span className="text-2xl shrink-0">ğŸ™</span>
                            <div>
                                <span className="font-bold block text-gray-800">ä¸‰åŸç« é­š</span>
                                <span className="text-xs text-gray-500">ä¸‰åŸæ˜¯ç« é­šä¹‹éƒ½ï¼Œå› ç€¨æˆ¶å…§æµ·æ€¥æµé€ å°±ç·Šå¯¦è‚‰è³ªã€‚ç« é­šå¤©å©¦ç¾…ã€ç« é­šé£¯å¿…è©¦ï¼</span>
                            </div>
                        </li>
                         <li className="flex gap-3 items-start p-2 bg-gray-50 rounded-lg">
                            <span className="text-2xl shrink-0">ğŸŠ</span>
                            <div>
                                <span className="font-bold block text-gray-800">å…«æœ”æ©˜å¤§ç¦</span>
                                <span className="text-xs text-gray-500">å› å³¶ç™¼ç¥¥çš„å…«æœ”æ©˜ï¼Œé…¸ç”œæœè‚‰åŒ…é€²å¤§ç¦è£¡ï¼Œæ¸…çˆ½å¤šæ±ã€‚(å­£ç¯€é™å®š)</span>
                            </div>
                        </li>
                    </ul>
                </div>

                {/* å³å¸‚ */}
                <div>
                    <h4 className="text-base font-bold text-gray-700 mb-2 flex items-center gap-1">
                        <span className="text-slate-600">âš“</span> å³å¸‚
                    </h4>
                    <ul className="space-y-3">
                        <li className="flex gap-3 items-start p-2 bg-gray-50 rounded-lg">
                            <span className="text-2xl shrink-0">ğŸ›</span>
                            <div>
                                <span className="font-bold block text-gray-800">å³æµ·è‡ªå’–å“©</span>
                                <span className="text-xs text-gray-500">æºè‡ªæµ·ä¸Šè‡ªè¡›éšŠå„è‰¦è‰‡çš„ç¨å®¶é£Ÿè­œï¼Œå¸‚å…§é¤å»³æä¾›ä¸åŒå£å‘³ï¼Œä¹Ÿæœ‰è²©å”®èª¿ç†åŒ…ã€‚</span>
                            </div>
                        </li>
                        <li className="flex gap-3 items-start p-2 bg-gray-50 rounded-lg">
                            <span className="text-2xl shrink-0">ğŸ¥</span>
                            <div>
                                <span className="font-bold block text-gray-800">Gansu (ç‚¸é­šè‚‰ç«è…¿)</span>
                                <span className="text-xs text-gray-500">å³å¸‚çš„éˆé­‚ç¾é£Ÿï¼é­šæ¼¿è£¹ç²‰æ²¹ç‚¸ï¼Œå¸¶é»å¾®è¾£ï¼Œé©åˆç•¶ä¸‹é…’èœæˆ–é›¶å˜´ã€‚</span>
                            </div>
                        </li>
                    </ul>
                </div>
              </div>

              <div className="bg-white rounded-xl shadow-sm p-5">
                <h3 className="font-bold text-lg mb-3 flex items-center gap-2">ğŸ§¥ è¡£è‘—å»ºè­° (12æœˆ)</h3>
                <p className="text-gray-600 text-sm leading-relaxed mb-4">
                  å»£å³¶12æœˆå¹³å‡æ°£æº«ç´„ 5Â°C - 12Â°Cã€‚
                </p>
                <div className="grid grid-cols-2 gap-3 text-center">
                  <div className="bg-blue-50 p-3 rounded-lg">
                    <div className="text-2xl mb-1">ğŸ§£</div>
                    <div className="text-sm font-bold text-gray-700">åœå·¾/æ‰‹å¥—</div>
                    <div className="text-xs text-gray-500">æ—©æ™šæº«å·®å¤§</div>
                  </div>
                  <div className="bg-blue-50 p-3 rounded-lg">
                    <div className="text-2xl mb-1">ğŸ‘Ÿ</div>
                    <div className="text-sm font-bold text-gray-700">å¥½èµ°çš„é‹</div>
                    <div className="text-xs text-gray-500">å°¾é“/å®®å³¶éœ€æ­¥è¡Œ</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        );

        const App = () => {
          const [activeTab, setActiveTab] = useState('itinerary');
          const [activeDay, setActiveDay] = useState(1);
          const [showIntro, setShowIntro] = useState(null);

          React.useEffect(() => {
            const container = document.getElementById('main-content-scroll');
            if (container) {
              container.scrollTo({ top: 0, behavior: 'instant' });
            }
          }, [activeTab, activeDay]);

          return (
            <div className="h-full w-full flex justify-center font-sans bg-gray-100">
              <div className="w-full max-w-md bg-white h-full relative shadow-2xl flex flex-col overflow-hidden">
                <div id="main-content-scroll" className="flex-1 no-scrollbar relative overflow-y-auto">
                  {activeTab === 'itinerary' && (
                    <ItineraryView 
                      activeDay={activeDay} 
                      setActiveDay={setActiveDay} 
                      onShowIntro={setShowIntro}
                    />
                  )}
                  {activeTab === 'info' && <InfoView />}
                  {activeTab === 'prep' && <PrepView />}
                  {activeTab === 'transport' && <TransportView />}
                  {activeTab === 'guide' && <GuideView />}
                  <div 
                    style={{ height: 'calc(8rem + env(safe-area-inset-bottom))' }} 
                    className="w-full shrink-0"
                  ></div>
                </div>
                <div 
                  style={{ height: 'calc(4rem + env(safe-area-inset-bottom))', paddingBottom: 'env(safe-area-inset-bottom)' }}
                  className="fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-white border-t flex justify-around items-center px-1 z-50 shrink-0 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]"
                >
                  <button 
                    onClick={() => setActiveTab('itinerary')}
                    className={`flex flex-col items-center gap-1 p-2 rounded-xl transition w-1/5 ${activeTab === 'itinerary' ? 'text-blue-600' : 'text-gray-400'}`}
                  >
                    <Calendar size={20} />
                    <span className="text-[10px] font-bold">è¡Œç¨‹</span>
                  </button>
                  <button 
                    onClick={() => setActiveTab('info')}
                    className={`flex flex-col items-center gap-1 p-2 rounded-xl transition w-1/5 ${activeTab === 'info' ? 'text-blue-600' : 'text-gray-400'}`}
                  >
                    <Info size={20} />
                    <span className="text-[10px] font-bold">è³‡è¨Š</span>
                  </button>
                  <button 
                    onClick={() => setActiveTab('prep')}
                    className={`flex flex-col items-center gap-1 p-2 rounded-xl transition w-1/5 ${activeTab === 'prep' ? 'text-blue-600' : 'text-gray-400'}`}
                  >
                    <Briefcase size={20} />
                    <span className="text-[10px] font-bold">æº–å‚™</span>
                  </button>
                  <button 
                    onClick={() => setActiveTab('transport')}
                    className={`flex flex-col items-center gap-1 p-2 rounded-xl transition w-1/5 ${activeTab === 'transport' ? 'text-blue-600' : 'text-gray-400'}`}
                  >
                    <Train size={20} />
                    <span className="text-[10px] font-bold">äº¤é€š</span>
                  </button>
                  <button 
                    onClick={() => setActiveTab('guide')}
                    className={`flex flex-col items-center gap-1 p-2 rounded-xl transition w-1/5 ${activeTab === 'guide' ? 'text-blue-600' : 'text-gray-400'}`}
                  >
                    <BookOpen size={20} />
                    <span className="text-[10px] font-bold">æŒ‡å—</span>
                  </button>
                </div>
                {showIntro && (
                  <IntroModal spot={showIntro} onClose={() => setShowIntro(null)} />
                )}
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
